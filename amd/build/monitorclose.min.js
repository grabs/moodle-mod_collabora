/**
 * Closes the collabora window.
 *
 * @module     mod_collabora/monitorclose
 * @author     Andreas Grabs <moodle@grabs-edv.de>
 * @copyright  2019 Humboldt-Universit√§t zu Berlin <moodle-support@cms.hu-berlin.de>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("mod_collabora/monitorclose",[],(function(){var courseURL,closeWindow;function checkMessage(e){var msgId;try{msgId=JSON.parse(e.data).MessageId}catch(exc){msgId=e.data}"UI_Close"===msgId&&(closeWindow?window.close():window.location.href=courseURL)}return{init:function(opts){courseURL=opts.courseurl,closeWindow=opts.closewindow,window.addEventListener("message",checkMessage)}}}));

//# sourceMappingURL=monitorclose.min.js.map